exports.module = function(pagination, util) {
	"use strict";
	var SearchPaginator = function(options) {
		pagination.Paginator.call(this, options);
	};

	pagination.SearchPaginator = SearchPaginator;

	util.inherits(SearchPaginator, pagination.Paginator);

	SearchPaginator.prototype.render = function() {
		var i, len, className, prelink;
		var result = this.getPaginationData();
		var html = '<ul class="pagination">';
       // console.log(result);
		if(result.pageCount < 2) {
			html += '</ul>';
			return html;
		}
		result.current = (result.current >  0) ? result.current : 1;
		prelink = this.preparePreLink(result.prelink);
		
		if(result.previous) {
			html += '<li><a  class="ptrans" href="' + prelink+'1" class="paginator-previous"><span aria-hidden="true">«</span></a></li>';

			html += '<li><a class="ptrans" href="' + prelink + result.previous + '" aria-label="Previous">Previous</a></li>';
		}

		if(result.range.length) {
			for( i = 0, len = result.range.length; i < len; i++) {
				className = 'paginator-page';

				if(result.range[i] === result.current) {
					className = 'active';
				}
				if(i === 0) {
					className += ' paginator-page-first';
				} else if(i === len - 1) {
					className += ' paginator-page-last';
				}
				html += '<li class="' + className + '"><a href="' + prelink + result.range[i] + '" >' + result.range[i] + '</a></li>';
			}
		}
		if(result.next) {
			html += '<li><a  class="ptrans" href="' + prelink + result.next + '" class="paginator-next" class="ptrans">Next</a></li>';
			html += '<li><a  class="ptrans" href="' + prelink+result.last+'" class="paginator-next"><span aria-hidden="true">»</span></a></li>';
		}
		html += '</ul>';
		return html;
	};
	pagination.registerFactory('search', SearchPaginator);
};
